{"ast":null,"code":"import { all, fork, delay, put, takeLatest } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { ADD_POST_REQUEST, ADD_POST_SUCCESS, ADD_POST_FAILURE, ADD_COMMENT_REQUEST, ADD_COMMENT_SUCCESS, ADD_COMMENT_FAILURE } from './../reducers/post';\nfunction addPostAPI(data) {\n  return axios.post('/api/post', data);\n}\nfunction* addPost(action) {\n  try {\n    // const result = yield call(addPostAPI,action.data);\n    yield delay(1000);\n    yield put({\n      type: ADD_POST_SUCCESS\n    });\n  } catch (err) {\n    yield put({\n      type: ADD_POST_FAILURE,\n      data: err.response.data\n    });\n  }\n}\nfunction addCommentAPI(data) {\n  return axios.post(`/api/post/${data.ADD_COMMENT_FAILUREid}/comment`, data);\n}\nfunction* addComment(action) {\n  try {\n    // const result = yield call(addPostAPI,action.data);\n    yield delay(1000);\n    yield put({\n      type: ADD_COMMENT_SUCCESS\n    });\n  } catch (err) {\n    yield put({\n      type: ADD_COMMENT_FAILURE,\n      data: err.response.data\n    });\n  }\n}\nfunction* watchAddPost() {\n  yield takeLatest(ADD_POST_REQUEST, addPost);\n}\n;\nfunction* watchAddComment() {\n  yield takeLatest(ADD_COMMENT_REQUEST, addComment);\n}\n;\nexport default function* postSaga() {\n  yield all([fork(watchAddPost), fork(watchAddComment)]);\n}","map":{"version":3,"names":["all","fork","delay","put","takeLatest","axios","ADD_POST_REQUEST","ADD_POST_SUCCESS","ADD_POST_FAILURE","ADD_COMMENT_REQUEST","ADD_COMMENT_SUCCESS","ADD_COMMENT_FAILURE","addPostAPI","data","post","addPost","action","type","err","response","addCommentAPI","ADD_COMMENT_FAILUREid","addComment","watchAddPost","watchAddComment","postSaga"],"sources":["C:/Users/수영/Desktop/nodebird/front/sagas/post.js"],"sourcesContent":["import { all, fork,delay,put ,takeLatest} from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport { ADD_POST_REQUEST,ADD_POST_SUCCESS,ADD_POST_FAILURE,\r\n    ADD_COMMENT_REQUEST,ADD_COMMENT_SUCCESS,ADD_COMMENT_FAILURE } from './../reducers/post';\r\n\r\nfunction addPostAPI(data){\r\n    return axios.post('/api/post',data);\r\n}\r\n\r\nfunction* addPost(action){\r\n    try{\r\n        // const result = yield call(addPostAPI,action.data);\r\n        yield delay(1000); \r\n        yield put({\r\n            type:ADD_POST_SUCCESS,\r\n            });\r\n    }catch(err){\r\n        yield put({\r\n            type:ADD_POST_FAILURE,\r\n            data:err.response.data,\r\n        })\r\n    }\r\n}\r\n\r\nfunction addCommentAPI(data){\r\n    return axios.post(`/api/post/${data.ADD_COMMENT_FAILUREid}/comment`,data);\r\n}\r\n\r\nfunction* addComment(action){\r\n    try{\r\n        // const result = yield call(addPostAPI,action.data);\r\n        yield delay(1000); \r\n        yield put({\r\n            type:ADD_COMMENT_SUCCESS,\r\n            });\r\n    }catch(err){\r\n        yield put({\r\n            type:ADD_COMMENT_FAILURE,\r\n            data:err.response.data,\r\n        })\r\n    }\r\n}\r\n\r\n\r\nfunction* watchAddPost(){\r\n    yield takeLatest(ADD_POST_REQUEST,addPost)\r\n};\r\n\r\nfunction* watchAddComment(){\r\n    yield takeLatest(ADD_COMMENT_REQUEST,addComment)\r\n};\r\n\r\n\r\n\r\nexport default function* postSaga(){\r\n    yield all([\r\n        fork(watchAddPost),\r\n        fork(watchAddComment)\r\n    ])\r\n}"],"mappings":"AAAA,SAASA,GAAG,EAAEC,IAAI,EAACC,KAAK,EAACC,GAAG,EAAEC,UAAU,QAAO,oBAAoB;AACnE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,gBAAgB,EAACC,gBAAgB,EAACC,gBAAgB,EACvDC,mBAAmB,EAACC,mBAAmB,EAACC,mBAAmB,QAAQ,oBAAoB;AAE3F,SAASC,UAAU,CAACC,IAAI,EAAC;EACrB,OAAOR,KAAK,CAACS,IAAI,CAAC,WAAW,EAACD,IAAI,CAAC;AACvC;AAEA,UAAUE,OAAO,CAACC,MAAM,EAAC;EACrB,IAAG;IACC;IACA,MAAMd,KAAK,CAAC,IAAI,CAAC;IACjB,MAAMC,GAAG,CAAC;MACNc,IAAI,EAACV;IACL,CAAC,CAAC;EACV,CAAC,QAAMW,GAAG,EAAC;IACP,MAAMf,GAAG,CAAC;MACNc,IAAI,EAACT,gBAAgB;MACrBK,IAAI,EAACK,GAAG,CAACC,QAAQ,CAACN;IACtB,CAAC,CAAC;EACN;AACJ;AAEA,SAASO,aAAa,CAACP,IAAI,EAAC;EACxB,OAAOR,KAAK,CAACS,IAAI,CAAE,aAAYD,IAAI,CAACQ,qBAAsB,UAAS,EAACR,IAAI,CAAC;AAC7E;AAEA,UAAUS,UAAU,CAACN,MAAM,EAAC;EACxB,IAAG;IACC;IACA,MAAMd,KAAK,CAAC,IAAI,CAAC;IACjB,MAAMC,GAAG,CAAC;MACNc,IAAI,EAACP;IACL,CAAC,CAAC;EACV,CAAC,QAAMQ,GAAG,EAAC;IACP,MAAMf,GAAG,CAAC;MACNc,IAAI,EAACN,mBAAmB;MACxBE,IAAI,EAACK,GAAG,CAACC,QAAQ,CAACN;IACtB,CAAC,CAAC;EACN;AACJ;AAGA,UAAUU,YAAY,GAAE;EACpB,MAAMnB,UAAU,CAACE,gBAAgB,EAACS,OAAO,CAAC;AAC9C;AAAC;AAED,UAAUS,eAAe,GAAE;EACvB,MAAMpB,UAAU,CAACK,mBAAmB,EAACa,UAAU,CAAC;AACpD;AAAC;AAID,eAAe,UAAUG,QAAQ,GAAE;EAC/B,MAAMzB,GAAG,CAAC,CACNC,IAAI,CAACsB,YAAY,CAAC,EAClBtB,IAAI,CAACuB,eAAe,CAAC,CACxB,CAAC;AACN"},"metadata":{},"sourceType":"module"}